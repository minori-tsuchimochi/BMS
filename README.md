# BMS (Book Management System)<br>研修成果物 仕様書

## 1. 概要
本システムは、図書館や社内図書コーナーにおける蔵書の
登録・検索・貸出／返却 を管理するWebアプリケーションである。

貸出履歴を記録し、在庫整合性を担保することで、
蔵書管理業務の効率化と正確性向上を実現する。

## 2. 目的
2.1 業務効率化
従来、Excel等で管理していた貸出状況をWeb化し、
管理作業の負担軽減を図る。

2.2 整合性確保
在庫数と貸出／返却履歴の一貫性をシステムで自動管理し、
データ不整合を防止する。

2.3 学習目的
- CRUD操作の実装
- リレーション設計の理解
- バリデーション処理の習得

## 3. スコープ
3.1 対象範囲
- 蔵書管理（登録／更新／削除／検索）
- 利用者管理（登録）
- 貸出／返却処理
- 貸出履歴の参照

3.2 除外範囲
- 予約待ち機能
- 延滞管理機能
- 外部システム連携

## 4. 利用者
4.1 管理者(Admin)
- 蔵書のCRUD操作
- 貸出／返却処理
- 貸出履歴参照

4.2 一般ユーザー(User)
- 蔵書検索／一覧参照
- 自身の貸出履歴参照

## 5. 機能要件
5.1 蔵書管理
管理項目：
- 書籍コード
- 書名
- 著者
- 出版社
- ISBN
- 在庫数

5.2 貸出/返却管理
貸出
- ユーザーID
- 書籍ID
- 貸出日
- 返却期限

返却
- 返却日登録
- 在庫数更新

制約
- 在庫数は負数不可
- 在庫整合性チェック必須

5.3 検索・一覧
- 書名/著者/ISBN検索
- 在庫有無によるフィルタ

5.4 権限
- 管理者：全権限
- 一般ユーザー：検索 + 自身の貸し出し履歴参照

## 6. 非機能要件
- セキュリティ：認証・権限制御・バリデーション
- 信頼性：貸出／返却処理はトランザクション管理
- 保守性：Spring Boot + JPAによるシンプル設計

## 7. データ項目(主要テーブル)
- user_account（ユーザー）
- book（書籍マスタ）
- loan_history（貸出履歴）

## 8. 入出力
8.1 入力
- 管理画面フォーム
  - 書籍登録
  - 利用者登録
  - 貸出／返却

8.2 出力
- 蔵書一覧画面
- 貸出履歴画面
- 検証エラーはメッセージ付きで表示

## 9. 制約条件
- 貸出／返却処理はトランザクション制御必須
- ISBNはユニーク制約を推奨

## 10. 受入条件（Acceptance Criteria）
- 書籍の登録／編集／削除が可能
- 書名／著者／ISBNで検索可能
- 貸出／返却時に在庫数が正しく変動する
- 自身の貸出履歴が確認できる
- 権限制御が正しく動作する

## 11. 拡張課題（余力があれば）
- 予約機能
- 返却遅延アラート（メール送信）
- カテゴリ管理
- 貸出ランキング
- 外部API連携（ISBN → 書誌情報取得）

## 12. 使用技術
- Java 21
- Spring Boot
- Gradle